@model UsersViewModel

@{
    ViewData["Title"] = "Index";
}

<main class="text-dark d-flex justify-content-center text-center" id="users-management">
    <div class="container " id="users-container">
        <div>
            <form class="float-left page-count-form" asp-action="UpdateTable" asp-controller="Users" method="post">
                <div class="input-group mb-3 flex-nowrap">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Count:</span>
                    </div>
                    <div class="input-group-append">
                        <input type="text" class="form-control users-count" onkeypress="return isNumberKey(event)" maxlength="2" asp-for="@Model.PageSize" value="@Model.PageSize">
                        <input type="hidden" asp-for="@Model.SearchString" value="@Model.SearchString" />
                        <input type="hidden" asp-for="@Model.SortOrder" value="@Model.SortOrder" />
                        <input type="hidden" asp-for="@Model.PageNumber" value="1" />
                    </div>
                </div>
            </form>
            <div class="active-cyan-3">
                <input class="form-control float-right" type="text" placeholder="Search" aria-label="Search" style="width: 20%;">
            </div>
        </div>
        <partial name="_UsersTablePartial" model="Model" />
    </div>
</main>

<div>   <button id="test-button">Test button</button></div>
@section Scripts{
    <script src="~/js/users.js"></script>
    <script>
        //function isNumberKey(evt) {
        //    var charCode = (evt.which) ? evt.which : evt.keyCode;
        //    if (charCode != 46 && charCode > 31
        //        && (charCode < 48 || charCode > 57))
        //        return false;
        //    return true;
        //}
    </script>
    @*<script>
        $(function () {
            const $lockoutForm = $('#lockout-form');

            $lockoutForm.on('submit', function (event) {

                event.preventDefault();

                const $userIdVal = $lockoutForm.find('.user-id').val();
                const $lockoutForVal = $lockoutForm.find('.lockout-for').val();
                const $antiForgeryTokenVal = $("input[name=__RequestVerificationToken]").val();

                const dataToSend = 'UserId=' + $userIdVal + '&LockoutFor=' + $lockoutForVal + "&__RequestVerificationToken=" + $antiForgeryTokenVal;
                debugger;
                $.post($lockoutForm.attr('action'), dataToSend, function (serverData) {

                });
            });
        });
    </script>*@
}


